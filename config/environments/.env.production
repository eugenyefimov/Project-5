# Production Environment Configuration
# Project-5 Multi-Cloud Infrastructure

# Application Settings
NODE_ENV=production
PORT=3000
API_PORT=3001
USER_SERVICE_PORT=3002

# Database Configuration
DB_HOST=${DB_HOST}
DB_PORT=5432
DB_NAME=project5_production
DB_USER=${DB_USER}
DB_PASSWORD=${DB_PASSWORD}
DB_SSL=true
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_TIMEOUT=30000
DB_SSL_REJECT_UNAUTHORIZED=true
DB_CONNECTION_RETRY_ATTEMPTS=5
DB_CONNECTION_RETRY_DELAY=5000

# Redis Configuration
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0
REDIS_SSL=true
REDIS_CLUSTER=true
REDIS_SENTINEL=true
REDIS_SENTINEL_MASTER=mymaster
REDIS_SENTINEL_PASSWORD=${REDIS_SENTINEL_PASSWORD}

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=project5-production
JWT_AUDIENCE=project5-users
JWT_ALGORITHM=HS256

# Security Settings
BCRYPT_ROUNDS=14
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
CORS_ORIGIN=https://project5.com,https://www.project5.com
CSRF_SECRET=${CSRF_SECRET}
HSTS_MAX_AGE=63072000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# Logging Configuration
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/project5/production.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30
LOG_COMPRESS=true
LOG_ROTATE_DAILY=true

# Monitoring and Metrics
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=15000
METRICS_COLLECTION_INTERVAL=10000
APM_ENABLED=true
TRACING_ENABLED=true

# Docker Registry
DOCKER_REGISTRY=${DOCKER_REGISTRY}
DOCKER_NAMESPACE=project5
DOCKER_TAG=${BUILD_NUMBER}
DOCKER_IMAGE_SCAN=true

# Kubernetes Configuration
KUBE_NAMESPACE=project5-production
KUBE_CONFIG_PATH=/etc/kubernetes/config
KUBE_CONTEXT=production-cluster

# Cloud Provider Settings
# AWS
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_S3_BUCKET=project5-production-storage
AWS_CLOUDWATCH_ENABLED=true
AWS_CLOUDWATCH_LOG_GROUP=/aws/project5/production
AWS_CLOUDWATCH_LOG_STREAM=application
AWS_X_RAY_ENABLED=true
AWS_KMS_KEY_ID=${AWS_KMS_KEY_ID}

# Azure
AZURE_SUBSCRIPTION_ID=${AZURE_SUBSCRIPTION_ID}
AZURE_TENANT_ID=${AZURE_TENANT_ID}
AZURE_CLIENT_ID=${AZURE_CLIENT_ID}
AZURE_CLIENT_SECRET=${AZURE_CLIENT_SECRET}
AZURE_RESOURCE_GROUP=project5-production-rg
AZURE_LOCATION=westus2
AZURE_STORAGE_ACCOUNT=project5productionstorage
AZURE_KEY_VAULT_URL=${AZURE_KEY_VAULT_URL}
AZURE_APPLICATION_INSIGHTS_KEY=${AZURE_APPLICATION_INSIGHTS_KEY}

# Google Cloud Platform
GCP_PROJECT_ID=${GCP_PROJECT_ID}
GCP_REGION=us-west1
GCP_ZONE=us-west1-a
GCP_SERVICE_ACCOUNT_KEY=${GCP_SERVICE_ACCOUNT_KEY}
GCP_STORAGE_BUCKET=project5-production-storage
GCP_LOGGING_ENABLED=true
GCP_MONITORING_ENABLED=true
GCP_TRACE_ENABLED=true

# External Services
ELASTICSEARCH_HOST=${ELASTICSEARCH_HOST}
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=${ELASTICSEARCH_USERNAME}
ELASTICSEARCH_PASSWORD=${ELASTICSEARCH_PASSWORD}
ELASTICSEARCH_SSL=true
ELASTICSEARCH_INDEX=project5-production-logs
ELASTICSEARCH_SHARDS=5
ELASTICSEARCH_REPLICAS=2

# Email Configuration
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
SMTP_FROM=noreply@project5.com
EMAIL_TEMPLATES_PATH=/app/templates/email
EMAIL_QUEUE_ENABLED=true
EMAIL_RATE_LIMIT=1000

# Feature Flags
FEATURE_DEBUG_MODE=false
FEATURE_VERBOSE_LOGGING=false
FEATURE_MOCK_EXTERNAL_SERVICES=false
FEATURE_RATE_LIMITING=true
FEATURE_CACHING=true
FEATURE_METRICS_COLLECTION=true
FEATURE_CANARY_DEPLOYMENT=true
FEATURE_BLUE_GREEN_DEPLOYMENT=true
FEATURE_A_B_TESTING=true
FEATURE_CIRCUIT_BREAKER=true

# Performance Settings
CLUSTER_WORKERS=4
MAX_CONNECTIONS=10000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000
REQUEST_TIMEOUT=30000
CONNECTION_POOL_SIZE=100
QUERY_TIMEOUT=30000

# API Configuration
API_VERSION=v1
API_PREFIX=/api
API_DOCS_ENABLED=false
API_DOCS_PATH=/docs
SWAGGER_ENABLED=false
API_RATE_LIMIT=10000
API_BURST_LIMIT=1000
API_THROTTLING_ENABLED=true

# File Upload
UPLOAD_MAX_SIZE=104857600
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document
UPLOAD_DEST=/app/uploads
UPLOAD_VIRUS_SCAN=true
UPLOAD_ENCRYPTION=true
UPLOAD_CDN_ENABLED=true

# Session Configuration
SESSION_SECRET=${SESSION_SECRET}
SESSION_MAX_AGE=3600000
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict
SESSION_DOMAIN=.project5.com

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_KEYS=100000
CACHE_CHECK_PERIOD=300
CACHE_REDIS_ENABLED=true
CACHE_COMPRESSION=true
CACHE_ENCRYPTION=true
CACHE_DISTRIBUTED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_STORAGE_TYPE=s3
BACKUP_S3_BUCKET=project5-production-backups
BACKUP_ENCRYPTION=true
BACKUP_CROSS_REGION=true
BACKUP_CROSS_CLOUD=true
BACKUP_VERIFICATION=true

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/project5-production.crt
SSL_KEY_PATH=/etc/ssl/private/project5-production.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=true
LOAD_BALANCER_ALGORITHM=least_connections
LOAD_BALANCER_HEALTH_CHECK=/health
LOAD_BALANCER_TIMEOUT=30000
LOAD_BALANCER_STICKY_SESSIONS=true
LOAD_BALANCER_SSL_TERMINATION=true

# Auto Scaling Configuration
AUTO_SCALING_ENABLED=true
AUTO_SCALING_MIN_REPLICAS=3
AUTO_SCALING_MAX_REPLICAS=20
AUTO_SCALING_TARGET_CPU=60
AUTO_SCALING_TARGET_MEMORY=70
AUTO_SCALING_SCALE_UP_COOLDOWN=180
AUTO_SCALING_SCALE_DOWN_COOLDOWN=300
AUTO_SCALING_PREDICTIVE=true

# Alerting Configuration
ALERTING_ENABLED=true
ALERTING_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
ALERTING_EMAIL_RECIPIENTS=alerts@project5.com,devops@project5.com
ALERTING_SMS_ENABLED=true
ALERTING_PHONE_NUMBERS=${ALERT_PHONE_NUMBERS}
ALERTING_ESCALATION_ENABLED=true
ALERTING_PAGERDUTY_KEY=${PAGERDUTY_API_KEY}

# Compliance and Audit
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
COMPLIANCE_MODE=production
DATA_RETENTION_DAYS=2555
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=true
SOX_COMPLIANCE=true
PCI_COMPLIANCE=true

# Disaster Recovery
DISASTER_RECOVERY_ENABLED=true
DR_RTO=4h
DR_RPO=1h
DR_CROSS_REGION=true
DR_CROSS_CLOUD=true
DR_AUTOMATED_FAILOVER=true
DR_TESTING_SCHEDULE=0 2 * * 0

# CDN Configuration
CDN_ENABLED=true
CDN_URL=https://cdn.project5.com
CDN_CACHE_TTL=86400
CDN_PURGE_ON_DEPLOY=true
CDN_GZIP_ENABLED=true
CDN_BROTLI_ENABLED=true
CDN_HTTP2_ENABLED=true

# Search Configuration
SEARCH_ENGINE=elasticsearch
SEARCH_INDEX_PREFIX=project5-production
SEARCH_REPLICATION_FACTOR=2
SEARCH_SHARDS=5
SEARCH_REFRESH_INTERVAL=30s
SEARCH_CACHE_ENABLED=true

# Message Queue Configuration
MESSAGE_QUEUE_ENABLED=true
MESSAGE_QUEUE_TYPE=redis
MESSAGE_QUEUE_HOST=${REDIS_HOST}
MESSAGE_QUEUE_PORT=6379
MESSAGE_QUEUE_PASSWORD=${REDIS_PASSWORD}
MESSAGE_QUEUE_CLUSTER=true
MESSAGE_QUEUE_PERSISTENCE=true
MESSAGE_QUEUE_RETRY_ATTEMPTS=5

# Webhook Configuration
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=5
WEBHOOK_RETRY_DELAY=10000
WEBHOOK_SIGNATURE_SECRET=${WEBHOOK_SECRET}
WEBHOOK_RATE_LIMIT=1000
WEBHOOK_QUEUE_ENABLED=true

# API Gateway Configuration
API_GATEWAY_ENABLED=true
API_GATEWAY_RATE_LIMIT=50000
API_GATEWAY_BURST_LIMIT=10000
API_GATEWAY_THROTTLING=true
API_GATEWAY_CACHING=true
API_GATEWAY_COMPRESSION=true

# Content Delivery
CONTENT_COMPRESSION=true
CONTENT_MINIFICATION=true
CONTENT_OPTIMIZATION=true
IMAGE_OPTIMIZATION=true
IMAGE_WEBP_ENABLED=true
IMAGE_AVIF_ENABLED=true

# Database Optimization
DB_QUERY_CACHE=true
DB_CONNECTION_POOLING=true
DB_READ_REPLICAS=3
DB_WRITE_MASTER=1
DB_SHARDING_ENABLED=false
DB_PARTITIONING_ENABLED=true

# Security Hardening
SECURITY_HEADERS_ENABLED=true
XSS_PROTECTION=true
CONTENT_TYPE_NOSNIFF=true
FRAME_OPTIONS=DENY
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=geolocation=(),microphone=(),camera=()

# Zero Trust Security
ZERO_TRUST_ENABLED=true
MTLS_ENABLED=true
SERVICE_MESH_ENABLED=true
NETWORK_POLICIES_ENABLED=true
POD_SECURITY_POLICIES_ENABLED=true

# Observability
OPEN_TELEMETRY_ENABLED=true
JAEGER_ENABLED=true
ZIPKIN_ENABLED=false
METRICS_SCRAPING_INTERVAL=15s
LOG_SAMPLING_RATE=0.1
TRACE_SAMPLING_RATE=0.01

# Cost Optimization
COST_OPTIMIZATION_ENABLED=true
AUTO_SHUTDOWN_ENABLED=false
RIGHT_SIZING_ENABLED=true
SPOT_INSTANCES_ENABLED=false
RESERVED_INSTANCES_ENABLED=true